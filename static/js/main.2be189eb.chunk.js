(this.webpackJsonpmaurycy=this.webpackJsonpmaurycy||[]).push([[0],{176:function(t,e,n){},177:function(t,e,n){},315:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(47),o=n.n(r),s=(n(176),n(18)),u=(n(177),n(8)),i=[{country:"Poland",shortcut:"POL"},{country:"Germany",shortcut:"DEU"},{country:"France",shortcut:"FRA"}],j=function(t){var e=t.setDate,n=Object(c.useRef)(null),a=Object(c.useRef)(null),r=new Date,o=r.getMonth()+1<10?"0".concat(r.getMonth()+1):"".concat(r.getMonth()+1);return Object(u.jsxs)("form",{onSubmit:function(t){return function(t){var c,r;t.preventDefault(),e({country:null===(c=a.current)||void 0===c?void 0:c.value,date:null===(r=n.current)||void 0===r?void 0:r.value})}(t)},children:[Object(u.jsxs)("label",{htmlFor:"date",children:["Choose date:",Object(u.jsx)("input",{ref:n,type:"month",name:"date",id:"date",defaultValue:"".concat(r.getFullYear(),"-").concat(o)})]}),Object(u.jsxs)("label",{htmlFor:"country",children:["Choose country:",Object(u.jsx)("select",{ref:a,name:"country",id:"country",children:i.map((function(t){var e=t.shortcut,n=t.country;return Object(u.jsx)("option",{value:e,selected:"Poland"===n,children:n},n)}))})]}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})},d=n(37),l=n.n(d),h=n(104),b=n(323),f=n(317),p=n(321),O=n(164),x=n(23),y=n(165),m=n(69),v=n(66),g=n(167);var w=function(t){var e=t.chartDate,n=Object(c.useState)(e),a=Object(s.a)(n,2),r=a[0],o=a[1];return console.log("chart",e),Object(c.useEffect)((function(){o(e)}),[e]),Object(u.jsx)(b.a,{width:"80%",height:700,children:Object(u.jsxs)(f.a,{width:730,height:250,data:r,margin:{top:5,right:30,left:20,bottom:5},children:[Object(u.jsx)(p.a,{strokeDasharray:"3 3"}),Object(u.jsx)(O.a,{dataKey:"date",children:Object(u.jsx)(x.a,{value:"Date",offset:-20,position:"insideBottomRight"})}),Object(u.jsx)(y.a,{children:Object(u.jsx)(x.a,{value:"Amount of ppl",offset:20,position:"insideTopLeft"})}),Object(u.jsx)(m.a,{}),Object(u.jsx)(v.a,{}),Object(u.jsx)(g.a,{type:"monotone",dataKey:"confirmed",stroke:"#8884d8"}),Object(u.jsx)(g.a,{type:"monotone",dataKey:"deaths",stroke:"#82ca9d"}),Object(u.jsx)(g.a,{type:"monotone",dataKey:"recovered",stroke:"#ffc658"})]})})},D=function(t){var e=t.country,n=t.date.split("-")[0],c=t.date.split("-")[1],a="".concat(12===parseInt(c,10)?parseInt(t.date.split("-")[0],10)+1:n),r="".concat(parseInt(t.date.split("-")[1],10)+1),o=parseInt(r,10)<10?"0".concat(r):r,s="".concat("13"===o?"01":o);return"https://covidapi.info/api/v1/country/".concat(e,"/timeseries/").concat(n,"-").concat(c,"-01/").concat(a,"-").concat(s,"-01")},k=function(){var t=Object(h.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(t){var e=t.date,n=a.a.useState(),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(c.useEffect)((function(){Object(h.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(D(e));case 2:n=t.sent,i(n.result);case 4:case"end":return t.stop()}}),t)})))()}),[e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:e.country}),Object(u.jsx)(w,{chartDate:o})]})},S=function(){var t=a.a.useState({country:"",date:""}),e=Object(s.a)(t,2),n=e[0],c=e[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{setDate:c}),Object(u.jsx)(F,{date:n})]})};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[315,1,2]]]);
//# sourceMappingURL=main.2be189eb.chunk.js.map